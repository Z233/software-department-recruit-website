<!DOCTYPE html>
    <html lang="zh"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>软件部报名</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/css/bootstrap.min.css">
    <link href="./css/cover.css" rel="stylesheet">

    <style>
        .warning {
            font-size: 15px;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/@yuuza/webfx@1.3.5/dist/webfx.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function () {
      /** @type {HTMLButtonElement} */
      const submitBtn = document.getElementById('submit');
      /** @type {HTMLFormElement} */
      const form = document.getElementById('form');

      form.onsubmit = function () {
        let hasError = false;

        document.querySelectorAll(".form-group .warning").forEach(function (element) {
          element.remove();
        });

        document.querySelectorAll(".form-group").forEach(function (group) {
          const label = group.firstElementChild;
          /** @type {HTMLInputElement | HTMLTextAreaElement} */
          const input = label.nextElementSibling;
          var error = '';
          if (!input.value) {
            error = '该内容不能为空';
          }
          if (error) {
            hasError = true;
            group.insertBefore(webfx.buildDOM({
              tag: 'span.warning.text-danger.ml-1',
              text: error
            }), input);
          }
        });

        return !hasError;
      };
    });
    </script>

    </head>

    <body class="d-flex flex-column">
        <nav class="nav nav-masthead d-flex m-3">
          <a class="nav-link" href="index.html">首页</a>
          <a class="nav-link active" href="form.html">报名</a>
          <a class="nav-link" href="https://wiki.dsstudio.tech/">软件部 WIKI</a>
          <a class="nav-link" href="https://oj.dsstudio.tech/">软件部 OJ</a>
        </nav>

        <main class="form-wrapper">
            <form id="form" action="AddStudentServlet" method="POST" class="card mx-auto">
                <div class="card-header">
                  填写报名表
                </div>
                <div class="card-body">
                    <div class="form-row">
                      <div class="form-group col-md-6">
                        <label for="name">姓名*</label>
                        <input type="text" class="form-control" name="sname" id="name" placeholder="Name">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="studentid"">学号*</label>
                        <input type="text" class="form-control" name="sno" id="studentid" placeholder="Student ID">
                      </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                          <label for="phone">电话*</label>
                          <input type="tel" class="form-control" name="sphone" id="phone" placeholder="Phone number">
                        </div>
                        <div class="form-group col-md-6">
                          <label for="email"">邮箱*</label>
                          <input type="email" class="form-control" name="semail" id="email" placeholder="Email">
                        </div>
                    </div>
                    <div class="form-group">
                      <label for="question1">在编程方面做过什么有趣的事情？*</label>
                      <textarea rows="3" class="form-control" name="squestion1" id="question1"></textarea>
                    </div>
                    <div class="form-group">
                      <label for="question2">为什么想要加入软件部？*</label>
                      <textarea rows="3" class="form-control" name="squestion2" id="question2"></textarea>
                    </div>
                </div>
                <div class="card-footer clearfix">
                  <button type="submit" class="btn btn-primary float-right" id="submit">提交</button>
                </div>
              </form>
        </main>
        <footer class="text-muted m-2">
          © 2020
        </footer>
    </body>
</html>